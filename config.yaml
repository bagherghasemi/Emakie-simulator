seed: 42

simulation:
  start_date: "2023-01-01"
  end_date: "2026-01-01"   # 3 years; more conversions in later years via conversion ramp

# Prospect pool: addressable audience (people who can see ads and convert). Realistic range 50k–200k for 3-year runs; final customer count depends on CVR and ramp.
num_prospects: 100000
num_customers: 500   # schema/fallback only; prospect pool is num_prospects when set
num_products: 20
creatives: 30

# Conversion ramp: bias conversions toward later years (brand grows). Multiplier at year 0 vs year 2+; linear ramp in between.
# conversion_ramp_year_0: 0.75
# conversion_ramp_year_2_plus: 1.25

base_ctr: 0.02
base_refund_rate: 0.07  # ~5-10% typical; drives post-purchase refund simulation

# Expressed desire (energy only; no labels). Denominator of yield.
# base_exposure_lift: desire delta per exposure (default 0.02)
# click_desire_bonus: desire boost per click (default 0.05)
# desire_decay: daily decay multiplier (default 0.97)
# desire_conversion_weight: desire → conversion lift factor (default 0.4)
# disappointment_desire_threshold: memory above this triggers collapse (default 0.35)
# disappointment_desire_collapse: multiplier when strong disappointment (default 0.85)

# Budget hierarchy (campaign → ad set): tier small/mid/large or budget_min/max
# budget_tier: small  # 500-5k | mid 5k-50k | large 50k-500k
# budget_concentration: 2.0   # Dirichlet alpha; higher = more even ad set split
# budget_volatility: 0.3     # Pacing noise
# cpm: 15.0                  # For spend → impressions (scenario-driven)
# conversion_rate: 0.04      # For reporting funnel
# lpv_rate: 0.72             # Landing page views / click

# creative_type is metadata only (no effect on CTR/CVR/fatigue; dbt discovers performance).

# Brand lifecycle: emergent phase transitions based on accumulated performance
brand_lifecycle:
  enabled: true
  market_size: 500000
  initial_phase: launch
  growth_velocity_threshold: 10
  growth_repeat_stability_cv: 0.3
  maturation_penetration_pct: 0.20
  maturation_cpa_rise_pct: 0.50
  saturation_cpa_ltv_ratio: 0.8
  decline_repeat_decay_pct: 0.30
  decline_cpa_multiplier: 2.0

# Population dynamics: prospect pool inflow/outflow with cohort drift
population_dynamics:
  enabled: true
  daily_inflow_base: 50
  inflow_decay_rate: 0.0005
  quality_drift_rate: 0.0001
  quality_drift_cap: 0.15
  pool_expiry_days: 365

# Lag structure: EMA smoothing for trust propagation, bimodal refund timing
lag_structure:
  trust_ema_weight: 0.85
  refund_timing_modes:
    - [5, 2, 0.6]
    - [18, 5, 0.4]

# Momentum & seasonality: autocorrelation and weekly/monthly patterns
momentum:
  enabled: true
  revenue_autocorrelation: 0.7
  ctr_autocorrelation: 0.5
  conversion_autocorrelation: 0.6
  seasonality:
    weekly_pattern: [0.85, 0.95, 1.0, 1.0, 1.05, 1.1, 1.05]
    monthly_pattern: [0.9, 0.85, 0.95, 1.0, 1.0, 0.95, 0.9, 0.9, 1.05, 1.1, 1.15, 1.3]

# Feedback loops: pressure-driven spirals
feedback_loops:
  enabled: true
  pressure_ramp_rate: 0.02
  pressure_decay_rate: 0.01
  pressure_quality_penalty: 0.1
  revenue_target_window_days: 30

# Distribution realism: heterogeneity at input level for emergent heavy tails
distribution_realism:
  enabled: true
  spending_propensity_sigma: 0.5
  creative_quality_sigma: 0.4

# Creative lifecycle: impression-based creative aging
creative_lifecycle:
  enabled: true
  novelty_bonus_duration_impressions: 5000
  ramp_end_impressions: 10000
  plateau_duration_impressions: 50000
  fatigue_half_life_impressions: 100000
  min_performance_floor: 0.2

# Customer memory: non-Markovian behavioral effects
memory:
  brand_memory_decay_after_days: 90
  brand_memory_decay_rate: 0.005
  bad_shipping_permanent_penalty: 0.15
  discount_only_fullprice_penalty: 0.4

# Long-term accumulators: irreversible brand-level state drift
long_term_accumulators:
  ctr_erosion_per_churn: 0.02
  discount_dependency_cvr_penalty: 0.3
  trust_floor_from_refunds: 0.5
  exhaustion_cpa_multiplier: 1.5

# BigQuery loader
project_id: shopify-raw-483813
dataset_meta: meta_raw
dataset_shopify: shopify_raw
